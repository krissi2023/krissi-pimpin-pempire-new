# Example environment variables for Diamondz Playhouse backend
# Copy this to `.env` and fill values; DO NOT commit real secrets.

# Server
PORT=5000
NODE_ENV=development

# Stripe (server-side secret keys and webhook secrets)
# - `STRIPE_SECRET_KEY`: secret API key (sk_...)
# - `STRIPE_PUBLISHABLE_KEY`: publishable key for frontend (pk_...)
# - `STRIPE_API_VERSION`: pinned API version (optional but recommended)
STRIPE_SECRET_KEY=sk_test_your_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here
STRIPE_API_VERSION=2024-06-20
STRIPE_ISSUING_CARD_ID=card_issuing_id_for_testing

# Webhook signing secrets (one per endpoint/environment)
STRIPE_WEBHOOK_SECRET=whsec_main_webhook_secret_here
STRIPE_WEBHOOK_SECRET_DEV=whsec_dev_webhook_secret_here
STRIPE_WEBHOOK_SECRET_TEST=whsec_test_webhook_secret_here
STRIPE_WEBHOOK_SECRET_PROD=whsec_prod_webhook_secret_here

# Database (MongoDB)
MONGODB_URI=mongodb://username:password@host:port/diamondz-playhouse

# JWT / Auth
JWT_SECRET=your_jwt_secret_here
JWT_EXPIRE=30d

# Frontend URL (used in success/cancel URLs)
FRONTEND_URL=http://localhost:3000

# Pricing defaults (in cents)
COMIC_BASE_PRICE=999
PUZZLE_BASE_PRICE=499
WALLPAPER_BASE_PRICE=299

# Notes:
# - Keep `.env` out of source control (.gitignore). Use this file only as a template.
# - For local webhook testing prefer `stripe listen` and copy the printed `whsec_...` into
#   the appropriate STRIPE_WEBHOOK_SECRET_* variable.# Server Configuration
PORT=5000
NODE_ENV=development

# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here
STRIPE_API_VERSION=2024-06-20
STRIPE_ISSUING_CARD_ID=card_issuing_id_for_testing

# Stripe Webhook Secrets (3 separate endpoints for different environments)
# Main webhook endpoint: /api/webhooks/stripe
STRIPE_WEBHOOK_SECRET=whsec_your_main_webhook_secret_here

# Development webhook endpoint: /api/webhooks/stripe-dev
STRIPE_WEBHOOK_SECRET_DEV=whsec_your_dev_webhook_secret_here

# Testing webhook endpoint: /api/webhooks/stripe-test
STRIPE_WEBHOOK_SECRET_TEST=whsec_your_test_webhook_secret_here

# Production webhook endpoint: /api/webhooks/stripe-prod
STRIPE_WEBHOOK_SECRET_PROD=whsec_your_production_webhook_secret_here

# Database Configuration
MONGODB_URI=mongodb://localhost:27017/diamondz-playhouse
# OR for MongoDB Atlas (cloud):
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/diamondz-playhouse?retryWrites=true&w=majority

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_here
JWT_EXPIRE=30d

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:3000

# Payment Configuration
COMIC_BASE_PRICE=999
PUZZLE_BASE_PRICE=499
WALLPAPER_BASE_PRICE=299

## Optional: CI / Provider keys (only if you need provider access)
# GitHub (use PAT for scripts or API calls; prefer repository secrets for CI)
GITHUB_PAT=ghp_your_personal_access_token_here
GITHUB_DEPLOY_SSH_KEY_PATH=~/.ssh/id_ed25519_deploy

# AWS (only if deploying to or using AWS services). Prefer IAM roles/OIDC.
AWS_ACCESS_KEY_ID=AKIAxxxxxxxxxxxxxxxx
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key_here
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-s3-bucket-name
AWS_ROLE_ARN=arn:aws:iam::123456789012:role/your-deploy-role

# If using GitHub Actions with OIDC, set this to true and configure the role in AWS
USE_GITHUB_OIDC=false
