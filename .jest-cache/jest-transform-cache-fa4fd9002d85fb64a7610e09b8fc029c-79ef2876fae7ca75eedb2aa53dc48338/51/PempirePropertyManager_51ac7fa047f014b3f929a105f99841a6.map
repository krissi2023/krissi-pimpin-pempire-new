{"version":3,"names":["DEFAULT_PROPERTIES","id","name","price","rent","PempirePropertyManager","constructor","options","startingBank","normalizeNumber","startingMoney","winningNetWorth","maxTurns","basePlayers","normalizePlayers","players","turn","turnCount","currentRound","isRunning","bank","winner","gameInterval","resetState","initialize","Array","isArray","getState","startGame","length","createPlayersFromBase","startLoop","animateTurnStart","getCurrentPlayer","properties","generateProperties","stopLoop","custom","source","map","entry","Math","floor","ownerId","templates","getFallbackPlayers","template","index","money","netWorth","findPlayer","playerId","find","player","findProperty","propertyIdOrName","property","nextTurn","success","reason","current","autoBuy","autoAcquireProperty","checkWinCondition","nextPlayer","activePlayer","state","affordable","acquireProperty","buyProperty","propertyId","buyerId","result","push","calculateNetWorth","tradeProperty","fromPlayerId","toPlayerId","fromPlayer","toPlayer","filter","animateTrade","from","to","collectRent","amountOverride","owner","rentAmount","max","leadingPlayer","highestWorth","Infinity","forEach","allOwned","every","reachedWorth","exhaustedTurns","endGame","propertyValue","reduce","sum","showWinScreen","setInterval","clearInterval","dispose","slice","tradeDetails","value","fallback","Number","isNaN","module","exports"],"sources":["PempirePropertyManager.js"],"sourcesContent":["'use strict';\n\n/**\n * Game: Pempire Property Manager\n * Manage blinged-out properties, broker trades, and outgrow rival empires.\n */\n\nconst DEFAULT_PROPERTIES = [\n    { id: 'kings-court', name: \"King's Court\", price: 240, rent: 55 },\n    { id: 'queens-row', name: \"Queen's Row\", price: 190, rent: 45 },\n    { id: 'diamond-lane', name: 'Diamond Lane', price: 320, rent: 75 },\n    { id: 'velvet-vista', name: 'Velvet Vista', price: 280, rent: 60 },\n    { id: 'pempire-plaza', name: 'Pempire Plaza', price: 360, rent: 85 }\n];\n\nclass PempirePropertyManager {\n    constructor(options = {}) {\n        this.startingBank = this.normalizeNumber(options.startingBank, 1500);\n        this.startingMoney = this.normalizeNumber(options.startingMoney, 600);\n        this.winningNetWorth = this.normalizeNumber(options.winningNetWorth, 1800);\n        this.maxTurns = this.normalizeNumber(options.maxTurns, 40);\n        this.basePlayers = this.normalizePlayers(options.players);\n\n        this.turn = 0;\n        this.turnCount = 0;\n        this.currentRound = 1;\n        this.isRunning = false;\n        this.bank = this.startingBank;\n        this.winner = null;\n        this.gameInterval = null;\n\n        this.resetState();\n    }\n\n    initialize(options = {}) {\n        if (typeof options.startingBank === 'number') {\n            this.startingBank = this.normalizeNumber(options.startingBank, this.startingBank);\n        }\n        if (typeof options.startingMoney === 'number') {\n            this.startingMoney = this.normalizeNumber(options.startingMoney, this.startingMoney);\n        }\n        if (typeof options.winningNetWorth === 'number') {\n            this.winningNetWorth = this.normalizeNumber(options.winningNetWorth, this.winningNetWorth);\n        }\n        if (typeof options.maxTurns === 'number') {\n            this.maxTurns = this.normalizeNumber(options.maxTurns, this.maxTurns);\n        }\n        if (Array.isArray(options.players)) {\n            this.basePlayers = this.normalizePlayers(options.players);\n        }\n        this.resetState();\n        return this.getState();\n    }\n\n    startGame() {\n        if (this.players.length === 0) {\n            this.basePlayers = this.normalizePlayers();\n            this.players = this.createPlayersFromBase();\n        }\n        this.isRunning = true;\n        this.turn = 0;\n        this.turnCount = 0;\n        this.currentRound = 1;\n        this.winner = null;\n        this.startLoop();\n        this.animateTurnStart(this.getCurrentPlayer());\n        return this.getState();\n    }\n\n    resetState() {\n        this.properties = this.generateProperties();\n        this.players = this.createPlayersFromBase();\n        this.turn = 0;\n        this.turnCount = 0;\n        this.currentRound = 1;\n        this.bank = this.startingBank;\n        this.isRunning = false;\n        this.winner = null;\n        this.stopLoop();\n    }\n\n    generateProperties(custom = null) {\n        const source = Array.isArray(custom) && custom.length > 0 ? custom : DEFAULT_PROPERTIES;\n        return source.map((entry) => ({\n            id: entry.id,\n            name: entry.name,\n            price: this.normalizeNumber(entry.price, 200),\n            rent: this.normalizeNumber(entry.rent || Math.floor(entry.price * 0.25), 40),\n            ownerId: null\n        }));\n    }\n\n    createPlayersFromBase() {\n        const templates = this.basePlayers.length > 0 ? this.basePlayers : this.getFallbackPlayers();\n        return templates.map((template, index) => ({\n            id: template.id || `player-${index + 1}`,\n            name: template.name || `Player ${index + 1}`,\n            money: this.normalizeNumber(template.money ?? this.startingMoney, this.startingMoney),\n            properties: [],\n            netWorth: this.normalizeNumber(template.money ?? this.startingMoney, this.startingMoney)\n        }));\n    }\n\n    getFallbackPlayers() {\n        return [\n            { id: 'player-a', name: 'Sky Hustle', money: this.startingMoney },\n            { id: 'player-b', name: 'Velvet Vanguard', money: this.startingMoney }\n        ];\n    }\n\n    getCurrentPlayer() {\n        if (this.players.length === 0) {\n            return null;\n        }\n        return this.players[this.turn % this.players.length];\n    }\n\n    findPlayer(playerId) {\n        return this.players.find((player) => player.id === playerId) || null;\n    }\n\n    findProperty(propertyIdOrName) {\n        if (!propertyIdOrName) {\n            return null;\n        }\n        return this.properties.find((property) =>\n            property.id === propertyIdOrName || property.name === propertyIdOrName\n        ) || null;\n    }\n\n    nextTurn(options = {}) {\n        if (!this.isRunning || this.players.length === 0) {\n            return { success: false, reason: 'Game is not running.' };\n        }\n\n        const current = this.getCurrentPlayer();\n        this.turnCount += 1;\n\n        if (options.autoBuy !== false) {\n            this.autoAcquireProperty(current);\n        }\n\n        this.turn = (this.turn + 1) % this.players.length;\n        this.currentRound = Math.floor(this.turnCount / this.players.length) + 1;\n        this.checkWinCondition();\n\n        const nextPlayer = this.getCurrentPlayer();\n        this.animateTurnStart(nextPlayer);\n        return {\n            success: true,\n            activePlayer: nextPlayer ? { ...nextPlayer } : null,\n            turn: this.turn,\n            currentRound: this.currentRound,\n            state: this.getState()\n        };\n    }\n\n    autoAcquireProperty(player) {\n        if (!player) {\n            return;\n        }\n        const affordable = this.properties.find((property) => !property.ownerId && property.price <= player.money);\n        if (affordable) {\n            this.acquireProperty(player, affordable);\n        }\n    }\n\n    buyProperty(propertyId, buyerId = null) {\n        if (!this.isRunning) {\n            return { success: false, reason: 'Game is not running.' };\n        }\n        const property = this.findProperty(propertyId);\n        if (!property) {\n            return { success: false, reason: 'Property not found.' };\n        }\n        if (property.ownerId) {\n            return { success: false, reason: 'Property already owned.' };\n        }\n        const player = buyerId ? this.findPlayer(buyerId) : this.getCurrentPlayer();\n        if (!player) {\n            return { success: false, reason: 'Buyer not found.' };\n        }\n        if (player.money < property.price) {\n            return { success: false, reason: 'Insufficient funds.' };\n        }\n\n        const result = this.acquireProperty(player, property);\n        this.checkWinCondition();\n        return {\n            success: true,\n            property: { ...result.property },\n            player: { ...result.player },\n            state: this.getState()\n        };\n    }\n\n    acquireProperty(player, property) {\n        player.money -= property.price;\n        player.properties.push(property.id);\n        property.ownerId = player.id;\n        this.bank += property.price;\n        player.netWorth = this.calculateNetWorth(player);\n        return { player, property };\n    }\n\n    tradeProperty(fromPlayerId, toPlayerId, propertyId, price = 0) {\n        const fromPlayer = this.findPlayer(fromPlayerId);\n        const toPlayer = this.findPlayer(toPlayerId);\n        const property = this.findProperty(propertyId);\n\n        if (!fromPlayer || !toPlayer || !property) {\n            return { success: false, reason: 'Invalid trade participants.' };\n        }\n        if (property.ownerId !== fromPlayer.id) {\n            return { success: false, reason: 'Seller does not own the property.' };\n        }\n        if (price > 0 && toPlayer.money < price) {\n            return { success: false, reason: 'Buyer lacks funds.' };\n        }\n\n        fromPlayer.properties = fromPlayer.properties.filter((id) => id !== property.id);\n        toPlayer.properties.push(property.id);\n        property.ownerId = toPlayer.id;\n\n        if (price > 0) {\n            fromPlayer.money += price;\n            toPlayer.money -= price;\n        }\n\n        fromPlayer.netWorth = this.calculateNetWorth(fromPlayer);\n        toPlayer.netWorth = this.calculateNetWorth(toPlayer);\n\n        this.animateTrade({ from: fromPlayerId, to: toPlayerId, property: propertyId, price });\n        this.checkWinCondition();\n\n        return {\n            success: true,\n            property: { ...property },\n            fromPlayer: { ...fromPlayer },\n            toPlayer: { ...toPlayer },\n            state: this.getState()\n        };\n    }\n\n    collectRent(propertyId, amountOverride = null) {\n        const property = this.findProperty(propertyId);\n        if (!property || !property.ownerId) {\n            return { success: false, reason: 'Rent cannot be collected.' };\n        }\n        const owner = this.findPlayer(property.ownerId);\n        if (!owner) {\n            return { success: false, reason: 'Owner not found.' };\n        }\n        const rentAmount = this.normalizeNumber(amountOverride, property.rent);\n        owner.money += rentAmount;\n        owner.netWorth = this.calculateNetWorth(owner);\n        this.bank = Math.max(this.bank - rentAmount, 0);\n        return {\n            success: true,\n            rent: rentAmount,\n            owner: { ...owner },\n            state: this.getState()\n        };\n    }\n\n    checkWinCondition() {\n        if (!this.isRunning) {\n            return;\n        }\n\n        let leadingPlayer = null;\n        let highestWorth = -Infinity;\n        this.players.forEach((player) => {\n            player.netWorth = this.calculateNetWorth(player);\n            if (player.netWorth > highestWorth) {\n                highestWorth = player.netWorth;\n                leadingPlayer = player;\n            }\n        });\n\n        const allOwned = this.properties.every((property) => property.ownerId);\n        const reachedWorth = leadingPlayer && leadingPlayer.netWorth >= this.winningNetWorth;\n        const exhaustedTurns = this.turnCount >= this.maxTurns;\n\n        if (reachedWorth || allOwned || exhaustedTurns || this.bank <= 0) {\n            this.winner = leadingPlayer || null;\n            this.endGame();\n        }\n    }\n\n    calculateNetWorth(player) {\n        const propertyValue = player.properties.reduce((sum, propertyId) => {\n            const property = this.findProperty(propertyId);\n            return sum + (property ? property.price : 0);\n        }, 0);\n        return player.money + propertyValue;\n    }\n\n    endGame() {\n        this.isRunning = false;\n        this.stopLoop();\n        this.showWinScreen(this.winner);\n        return this.getState();\n    }\n\n    startLoop() {\n        this.stopLoop();\n        this.gameInterval = setInterval(() => {\n            if (!this.isRunning) {\n                this.stopLoop();\n                return;\n            }\n            this.checkWinCondition();\n        }, 750);\n    }\n\n    stopLoop() {\n        if (this.gameInterval) {\n            clearInterval(this.gameInterval);\n            this.gameInterval = null;\n        }\n    }\n\n    dispose() {\n        this.stopLoop();\n    }\n\n    getState() {\n        return {\n            bank: this.bank,\n            turn: this.turn,\n            turnCount: this.turnCount,\n            currentRound: this.currentRound,\n            winner: this.winner ? { ...this.winner } : null,\n            isRunning: this.isRunning,\n            properties: this.properties.map((property) => ({ ...property })),\n            players: this.players.map((player) => ({\n                id: player.id,\n                name: player.name,\n                money: player.money,\n                properties: player.properties.slice(),\n                netWorth: player.netWorth\n            }))\n        };\n    }\n\n    // ==== Animation & UI Hooks ====\n    animateTurnStart(player) {\n        if (!player) {\n            return;\n        }\n        // Placeholder hook for highlighting the active player on the client.\n    }\n\n    animateTrade(tradeDetails) {\n        // Placeholder trade animation hook.\n        return tradeDetails;\n    }\n\n    showWinScreen(winner) {\n        if (!winner) {\n            return null;\n        }\n        // Placeholder for celebratory win screen effects.\n        return { id: winner.id, name: winner.name, netWorth: winner.netWorth };\n    }\n\n    normalizePlayers(players = []) {\n        if (!Array.isArray(players) || players.length === 0) {\n            return [];\n        }\n        return players.map((player, index) => ({\n            id: typeof player.id === 'string' ? player.id : `player-${index + 1}`,\n            name: typeof player.name === 'string' ? player.name : `Player ${index + 1}`,\n            money: this.normalizeNumber(player.money, this.startingMoney)\n        }));\n    }\n\n    normalizeNumber(value, fallback) {\n        if (typeof value !== 'number' || Number.isNaN(value) || value <= 0) {\n            return fallback;\n        }\n        return Math.floor(value);\n    }\n}\n\nmodule.exports = PempirePropertyManager;\n"],"mappings":"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","ignoreList":[]}